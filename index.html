<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BioHealing Monitor</title>
  <link rel="preload" as="style" href="./style.css" />
  <link rel="stylesheet" href="./style.css" />
  <link rel="preload" as="audio" href="./music.mp3" />
</head>
<body>
  <!-- Fondo animado -->
  <canvas id="fx-canvas" aria-hidden="true"></canvas>

  <!-- Overlay de bienvenida -->
  <div id="overlay" class="overlay">
    <div class="overlay-card">
      <h1 class="title">SISTEMA DE BIO-OPTIMIZACIÓN</h1>
      <p class="sub">Nanorobots totales: <span id="stat-total">—</span> • Operativos: <span id="stat-oper">—</span></p>
      <div class="bars">
        <div class="bar">
          <div class="bar-fill" id="bar-total" style="width:0%"></div>
        </div>
        <div class="bar">
          <div class="bar-fill ok" id="bar-oper" style="width:0%"></div>
        </div>
      </div>
      <button id="opt-start-btn" class="btn btn-primary">INICIAR</button>
      <p class="hint">Consejo: sube el volumen si quieres ambiente inmersivo.</p>
    </div>
  </div>

  <!-- Cabecera -->
  <header class="header">
    <div class="left">
      <div class="badge">Paciente</div>
      <div class="patient">
        <strong id="patient-name">Jonathan Fumero Mesa</strong>
        <small>Nac: 1976-12-04 00:43 • Ciudad de la Costa (UY)</small>
        <small>Edad exacta: <span id="live-age">—</span></small>
      </div>
    </div>

    <div class="controls">
      <button id="power-btn" class="btn">Encender</button>
      <button id="sound-btn" class="btn">Sonido: OFF</button>
      <button id="help-btn" class="btn">Ayuda</button>
    </div>
  </header>

  <!-- HUD -->
  <section class="hud" id="hud">
    <div class="hud-chip"><span>Occidental</span><strong id="hud-west">—</strong></div>
    <div class="hud-chip"><span>Chino</span><strong id="hud-chinese">—</strong></div>
    <div class="hud-chip"><span>Luna</span><strong id="hud-moon">—</strong></div>
    <div class="hud-chip"><span>Circadiano</span><strong id="hud-circ">—</strong></div>
    <div class="hud-chip">
      <span>Biorritmos</span>
      <strong>
        F <span id="bio-f">—</span> ·
        E <span id="bio-e">—</span> ·
        I <span id="bio-i">—</span>
      </strong>
    </div>
  </section>

  <!-- Grid de módulos -->
  <main class="grid" id="grid">
    <!-- tarjetas generadas por JS -->
  </main>

  <!-- Panel Optimización -->
  <section class="optimizer">
    <div class="opt-header">
      <h2>OPTIMIZACIÓN</h2>
      <button id="opt-btn" class="btn btn-primary">Optimizar cuerpo humano</button>
    </div>

    <div class="opt-queue" id="opt-queue">
      <!-- ítems en cola (agua, oxígeno, etc) se inyectan por JS -->
    </div>

    <div class="opt-progress">
      <div class="opt-progress-bar">
        <div id="opt-progress-fill" class="opt-progress-fill" style="width:0%"></div>
      </div>
      <span id="opt-progress-label" class="opt-progress-label">0%</span>
    </div>
  </section>

  <!-- Ticker -->
  <footer class="ticker">
    <div class="check">
      <span>Escaneo</span>
      <div class="check-bar"><div id="check-escaneo" class="check-fill" style="width:0%"></div></div>
    </div>
    <div class="check">
      <span>Recuento torrente</span>
      <div class="check-bar"><div id="check-recuento" class="check-fill" style="width:0%"></div></div>
    </div>
    <div class="check">
      <span>Operativos</span>
      <div class="check-bar"><div id="check-operativos" class="check-fill ok" style="width:0%"></div></div>
    </div>
    <div class="check">
      <span>Autorreparación</span>
      <div class="check-bar"><div id="check-autorreparacion" class="check-fill" style="width:0%"></div></div>
    </div>
    <div class="check">
      <span>Depuración</span>
      <div class="check-bar"><div id="check-depuracion" class="check-fill" style="width:0%"></div></div>
    </div>
  </footer>

  <!-- Panel ayudas/leyendas -->
  <aside id="help-panel" class="help hidden">
    <h3>Leyendas</h3>
    <ul>
      <li>Los gauges van de 0% a 100%. Verde intenso &gt;= 85%.</li>
      <li>Contenido lúdico/educativo. No es diagnóstico médico.</li>
      <li>El sonido puede requerir un clic previo para activarse.</li>
    </ul>
  </aside>

  <script src="./main.js" defer></script>
</body>
</html>
