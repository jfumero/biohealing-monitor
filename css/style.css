/* ===== Tokens de diseño ===== */
:root{
  --bg:#0a0a0f;
  --panel:#11121a;
  --border:#2a2c3a;
  --muted:#b7c0cf;
  --text:#e9eef8;

  --good:#22c55e;  /* verde */
  --warn:#f59e0b;  /* amarillo */
  --bad:#ef4444;   /* rojo */

  --radius:14px;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--text); background:var(--bg);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  line-height:1.35;
}

/* Scanlines muy sutiles */
body::after{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:1;
  background-image:linear-gradient(rgba(255,255,255,.02) 1px, transparent 1px);
  background-size:100% 3px; mix-blend-mode:overlay;
}

/* ===== FX ===== */
.fx-canvas{position:fixed; inset:0; z-index:0}
.fx-vignette{position:fixed; inset:0; pointer-events:none; z-index:0;
  background: radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,.55) 100%);
}

/* ===== Overlay de bienvenida ===== */
.overlay{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:3;
  background:rgba(10,10,15,.85); backdrop-filter: blur(4px);
}
.welcome{width:min(980px,92vw); background:rgba(255,255,255,.03); border:1px solid var(--border);
  border-radius:var(--radius); padding:24px; box-shadow:var(--shadow)
}
.welcome h1{margin:0 0 6px}
.subtitle{margin:0 0 16px; color:var(--muted)}

.pill-row{display:flex; flex-wrap:wrap; gap:8px; margin:12px 0 18px}
.pill{border:1px solid var(--border); border-radius:999px; padding:6px 10px; background:rgba(255,255,255,.03)}

.counters{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin:16px 0}
.counter .label{color:var(--muted); font-size:.9rem}
.counter .value{font-size:1.8rem; font-weight:800}

.bar{height:8px; border-radius:6px; background:#1a1b24; overflow:hidden; border:1px solid var(--border)}
.bar .fill{height:100%; width:0%; background:linear-gradient(90deg,#6ee7ff,#64b5ff,#b087ff); transition:width .6s ease}
/* Tarjetitas sutiles para los contadores */
.cardish{
  border:1px solid var(--border);
  border-radius: var(--radius);
  background: rgba(255,255,255,.03);
  padding: 12px;
}

/* Contador “grande” (totales) */
.counter .value.big{
  font-size: 2rem;
  font-weight: 800;
  line-height: 1;
  margin-top: 6px;
}

/* Barra con valor adentro */
.bar.with-val{
  position: relative;
  height: 38px;              /* más alto para alojar el número */
  border-radius: 10px;
  background: #121420;
  border: 1px solid var(--border);
  overflow: hidden;
}

.bar.with-val .fill{
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg,#6ee7ff,#64b5ff,#b087ff);
  transition: width .6s ease;
}

/* El conteo dentro del cuadro */
.bar.with-val .bar-val{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  font-weight: 800;
  letter-spacing: .3px;
  text-shadow: 0 1px 0 rgba(0,0,0,.5);
  /* color adaptable por contraste */
  color: #e9eef8;
  mix-blend-mode: lighten;
}

/* Responsive pequeño */
@media (max-width: 520px){
  .bar.with-val{ height: 34px; }
  .counter .value.big{ font-size: 1.6rem; }
}


/* Bio panel overlay */
.bio-grid{display:grid; gap:8px; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); margin:16px 0}
.bio-item{padding:8px 10px; border:1px solid var(--border); border-radius:10px; background:rgba(255,255,255,.03)}

/* Biorritmo: colores dinámicos */
.bio-val{font-weight:800}
.bio-pos{color:var(--good); text-shadow:0 0 10px rgba(34,197,94,.25)}
.bio-neg{color:var(--bad);  text-shadow:0 0 10px rgba(239,68,68,.25)}
.bio-neu{color:var(--warn); text-shadow:0 0 10px rgba(245,158,11,.25)}

.btn{border:1px solid var(--border); background:#171827; color:var(--text);
  padding:8px 12px; border-radius:10px; cursor:pointer
}
.btn.primary{background:#1f2342}
.btn:disabled{opacity:.6; cursor:not-allowed}

/* ===== Header / HUD ===== */
header{position:relative; z-index:2; width:min(1200px,94vw); margin:24px auto 10px;
  display:grid; grid-template-columns:auto 1fr auto; gap:14px; align-items:center
}
header h2{margin:0}
.patient{display:flex; flex-wrap:wrap; gap:8px}
.header-ctrls{display:flex; align-items:center; gap:10px}

.led{width:12px; height:12px; border-radius:50%; background:#402; box-shadow:0 0 8px #000 inset, 0 0 4px rgba(0,0,0,.6)}
.led.on{background:#26ff85; box-shadow:0 0 10px rgba(38,255,133,.9), 0 0 8px #26ff85 inset}

.hud{
  grid-column:1 / -1;
  display:flex; align-items:center; gap:8px; flex-wrap:wrap; justify-content:center; margin-top:6px
}
.hud-item{
  display:flex; align-items:center; gap:6px; padding:4px 8px;
  border:1px solid var(--border); border-radius:999px; background:rgba(255,255,255,.03);
  white-space:nowrap; color:var(--muted); font-size:12.5px
}
.hud .bio-val{font-weight:700}
.hud .bio-pos{color:var(--good)} .hud .bio-neg{color:var(--bad)} .hud .bio-neu{color:var(--warn)}

/* ===== News Ticker en cabecera ===== */
.sys-ticker{
  grid-column:1 / -1;
  margin-top:6px; border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  overflow:hidden; padding:6px 0; position:relative
}
.sys-ticker .track{
  display:inline-block; white-space:nowrap; will-change:transform;
  animation: nb-ticker 28s linear infinite; font-size:12.5px; color:var(--muted)
}
@keyframes nb-ticker{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}
.sys-ticker:hover .track{animation-play-state:paused}
.nb-item{display:inline-flex; align-items:center; gap:6px; padding:2px 10px; margin-right:18px;
  border:1px solid var(--border); border-radius:999px; background:rgba(255,255,255,.03)}
.nb-sep{opacity:.6; margin-right:18px}
.nb-pos{color:#00ff66} .nb-warn{color:#ffe600} .nb-neg{color:#ff2a2a}
@media (prefers-reduced-motion: reduce){ .sys-ticker .track{animation:none} }

/* ===== Main / grid ===== */
main{position:relative; z-index:2; width:min(1200px,94vw); margin:0 auto 60px}
.grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:16px}
.card{border:1px solid var(--border); border-radius:var(--radius); background:var(--panel); padding:14px; box-shadow:var(--shadow)}
.title-sm{font-weight:700; margin-bottom:8px}
.status{display:flex; align-items:center; gap:8px; color:var(--muted); margin-bottom:8px}
.dot{width:8px; height:8px; border-radius:50%; background:#666}
.dot.good{background:var(--good)} .dot.warn{background:var(--warn)} .dot.bad{background:var(--bad)}
.gauge{position:relative; height:120px; margin:10px 0; display:grid; place-items:center}
.dial{width:120px; height:120px; border-radius:50%;
  background: conic-gradient(from 210deg, #1e1f2d 0 100%);
  border:1px solid var(--border);
}
.needle{position:absolute; width:2px; height:56px; background:#9ad8ff; top:22px; transform-origin:bottom center; transition:transform .18s ease-out}
.hub{position:absolute; width:10px; height:10px; border-radius:50%; background:#5ad1ff; box-shadow:0 0 10px rgba(90,209,255,.7)}
.value{position:absolute; bottom:6px; font-weight:800}
.gauge.neon .dial{box-shadow:0 0 18px rgba(90,209,255,.35)}
.controls{display:flex; gap:8px}

/* ===== Chequeos minimalistas (barra delgada con gradiente) ===== */
#checklist{margin-top:1.5rem}
#checklist .row{display:flex; flex-direction:column; margin-bottom:1rem}
#checklist .row-head{display:flex; justify-content:space-between; align-items:center; font-size:.9rem; color:#ccc; margin-bottom:.3rem}
#checklist .row-label{opacity:.9}
#checklist .perc{font-weight:700; min-width:3rem; text-align:right; font-size:.9rem}
#checklist .bar{position:relative; width:100%; height:4px; border-radius:2px;
  background: linear-gradient(to right, #00ff66, #ffe600, #ff2a2a); overflow:hidden}
#checklist .bar::after{content:""; position:absolute; inset:0; box-shadow:0 0 10px rgba(255,255,255,.08) inset; pointer-events:none}
#checklist .fill{height:100%; background:rgba(0,0,0,.6); transform-origin:left center; transform:scaleX(0); transition:transform .4s ease}

/* (Opcional) ocultar checklist si solo querés ticker: añade .hide-checklist al <body> */
/* .hide-checklist #checklist{display:none} */
