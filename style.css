/* ====== Reset breve + theme ====== */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  color: #e6eefc;
  background: radial-gradient(1200px 800px at 70% 10%, #0c1324 10%, #070b14 55%, #050811 100%);
  font: 15px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";
}

/* Accesibilidad: foco visible (no cambia estética normal) */
:focus { outline: none; }
:focus-visible {
  outline: 2px solid rgba(255,255,255,.65);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Utilidades */
.card-glass {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.08);
  backdrop-filter: blur(8px);
  border-radius: 14px;
  box-shadow: 0 10px 24px rgba(0,0,0,.35);
}
.card { padding: 14px; border-radius: 14px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); }
.title { font-weight: 800; letter-spacing: .12em; }
.title-sm { font-weight: 700; opacity: .9; margin-bottom: 8px; }
.pill { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,.1); border-radius: 999px; padding: 6px 10px; margin-right: 6px; }

.btn { border: 1px solid rgba(255,255,255,.16); background: rgba(255,255,255,.06); color: #eaf1ff; padding: 8px 12px; border-radius: 10px; cursor: pointer; }
.btn.primary { background: linear-gradient(180deg, #2b74ff, #295de0); border-color: rgba(0,0,0,.25); }
.btn.alt { background: linear-gradient(180deg, #16b67a, #0d8f60); border-color: rgba(0,0,0,.25); }
.btn.tiny { padding: 6px 10px; font-size: 13px; }

.logo, .logo.sm { width: 28px; height: 28px; background: radial-gradient(circle at 30% 30%, #3cf, #29f); border-radius: 8px; margin-right: 8px; }
.logo.sm { width: 22px; height: 22px; }

/* Overlay */
.overlay {
  position: fixed; inset: 0; display: grid; place-items: center; background: rgba(4,7,15,.72); z-index: 30;
}
.welcome { width: min(720px, 92vw); padding: 20px; }
.welcome .title { display: flex; align-items: center; gap: 10px; font-size: 18px; margin-bottom: 6px; }
#project-meta{ opacity:.9; margin-bottom: 14px; }
.ov-stats { display: grid; gap: 12px; grid-template-columns: 1fr 1fr; margin-bottom: 12px; }
.ov-item { padding: 12px; border-radius: 12px; background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.08); }
.ov-label { font-size: 13px; opacity: .85; }
.ov-value { font-size: 22px; font-weight: 800; margin: 6px 0; }
.progress { height: 6px; background: rgba(255,255,255,.08); border-radius: 999px; overflow: hidden; }
.bar { height: 100%; width: 0%; background: linear-gradient(90deg, #3bf, #1ad1a3); }

.ov-actions { display: flex; gap: 10px; margin-top: 8px; }
.ov-hint { opacity: .7; font-size: 13px; margin-top: 8px; }

/* Topbar */
.topbar {
  position: sticky; top: 0; z-index: 20; padding: 10px 12px; margin: 10px; display: flex; align-items: center; justify-content: space-between;
}
.brand { display:flex; align-items:center; gap:8px; }
.patient { display:flex; align-items:center; gap:8px; flex-wrap: wrap; }
.controls { display:flex; align-items:center; gap:8px; }
.led { width: 10px; height: 10px; background:#a33; border-radius: 50%; box-shadow: 0 0 12px #a33; }

/* HUD */
.hud { margin: 10px; padding: 10px; display: grid; grid-template-columns: repeat(6, minmax(0, 1fr)); gap: 10px; }
.hud-item { background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.08); border-radius: 12px; padding: 10px; }
.hud-item .label { font-size: 12px; opacity: .8; }
.hud-item .value { font-weight: 700; margin-top: 4px; }
.hud-item.trio .bio { display: grid; gap: 2px; }

/* Main */
main { display: grid; gap: 10px; grid-template-columns: 1fr; margin: 10px; }
.grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 10px; }

/* Tarjeta módulo (gauge) */
.module { padding: 12px; border-radius: 14px; background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.08); display: grid; gap: 8px; }
.module .head { display:flex; align-items:center; justify-content: space-between; }
.module .state { display:flex; align-items:center; gap:8px; }
.dot { width:10px; height:10px; border-radius:50%; background:#a33; box-shadow: 0 0 10px #a33; }
.dot.warn { background:#caa931; box-shadow:0 0 10px #caa931; }
.dot.ok { background:#2ad37a; box-shadow:0 0 10px #2ad37a; }
.module .actions { display:flex; gap:8px; }
.gauge {
  width:100%; height: 140px; position: relative; border-radius: 12px; background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid rgba(255,255,255,.06);
}
.gauge .needle { position:absolute; left:50%; bottom:8px; width:2px; height:60px; background:#8fd1ff; box-shadow: 0 0 10px #8fd1ff; transform-origin: bottom; transform: translateX(-50%) rotate(-90deg); opacity:.95; }
.gauge .pct { position:absolute; bottom:8px; right:8px; font-weight:800;}

/* Checklist */
#checks .checklist { display:grid; gap:6px; }
.check { display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border-radius:10px; background: rgba(255,255,255,.04); border: 1px solid rgba(255,255,255,.06); }
.badge { padding: 2px 8px; border-radius:999px; font-weight:700; }
.badge.ok { background:#173d2b; color:#9cf2c7; border:1px solid #145a3b; }
.badge.warn { background:#3c3312; color:#ffe39c; border:1px solid #a07f1f; }
.badge.bad { background:#3b1719; color:#ffb4c0; border:1px solid #8a2a35; }

/* Optimizer */
.optimizer {
  position: fixed; left: 10px; right: 10px; bottom: 10px; padding: 10px; display:none;
}
.optimizer.open { display:block; }
.opt-header { display:flex; align-items:center; justify-content: space-between; margin-bottom:8px; }
.opt-queue { display:grid; gap:6px; }
.opt-item { display:flex; align-items:center; gap:10px; background: rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08); border-radius:10px; padding:8px; }
.opt-item .opt-name { font-weight:700; }
.opt-item .progress { flex: 1; }

/* Canvas fx */
#fx { position: fixed; inset:0; z-index:-1; }

/* Responsive */
@media (max-width: 900px) {
  .hud { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .grid { grid-template-columns: 1fr; }
}